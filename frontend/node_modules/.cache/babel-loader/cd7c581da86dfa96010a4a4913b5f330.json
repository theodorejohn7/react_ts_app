{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { authenticate } from \"../../services/authenticationService\";\nimport { setTokens } from \"../../services/localStorage\";\nconst initialState = {\n  isProcessingRequest: false\n};\nexport const authenticationSlice = createSlice({\n  name: 'authentication',\n  initialState,\n  reducers: {\n    start: state => {\n      return { ...state,\n        isProcessingRequest: false\n      };\n    },\n    success: (state, action) => {\n      return { ...state,\n        isProcessingRequest: false\n      };\n    },\n    error: (state, action) => {\n      return { ...state,\n        isProcessingRequest: false\n      };\n    }\n  }\n});\nexport const authenticateUser = userData => async dispatch => {\n  try {\n    const authData = await authenticate(userData);\n    setTokens(authData.data);\n    dispatch(success(authData.data));\n    history.push('/v1');\n  } catch (err) {\n    dispatch(error(err));\n  }\n};\nexport const {\n  start,\n  success,\n  error\n} = authenticationSlice.actions;\nexport const selectAuthentication = state => state.authentication;\nexport const authenticationReducer = authenticationSlice.reducer;","map":{"version":3,"names":["createSlice","authenticate","setTokens","initialState","isProcessingRequest","authenticationSlice","name","reducers","start","state","success","action","error","authenticateUser","userData","dispatch","authData","data","history","push","err","actions","selectAuthentication","authentication","authenticationReducer","reducer"],"sources":["/home/dell/Desktop/Theo/REACT JS/react_ts_app/frontend/src/store/slice/loginSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { authenticate } from \"../../services/authenticationService\";\nimport { setTokens } from \"../../services/localStorage\";\nimport { RootState } from \"../store\";\n\nimport { History} from \"history\";\n\n\n\nexport interface IAuthentication {\n    isProcessingRequest: boolean;\n    accessToken?: string;\n}\n\nconst initialState : IAuthentication = { isProcessingRequest : false};\n\nexport const authenticationSlice  = createSlice({\n    name:'authentication',\n    initialState,\n    reducers : {\n        start : (state) => {\n            return{\n                ...state, isProcessingRequest: false,\n            };\n        },\n        success:(state, action:PayloadAction<any>) => {\nreturn {\n    ...state, isProcessingRequest: false,\n};\n        },\n        error: (state, action: PayloadAction<string>) => {\n            return{\n                ...state, isProcessingRequest : false,\n            };\n        },\n    },\n});\n\nexport const authenticateUser = (userData: any) => async (dispatch: any) => {\n    try {\n        const authData = await authenticate (userData );\n        setTokens(authData.data);\n        dispatch(success(authData.data));\n        history.push('/v1');\n    }\n    catch(err) {\n        dispatch(error(err));\n    }\n}\n\nexport const { start, success, error }= authenticationSlice.actions;\nexport const selectAuthentication = (state:RootState) => state.authentication;\nexport const authenticationReducer = authenticationSlice.reducer;"],"mappings":"AAAA,SAASA,WAAT,QAA2C,kBAA3C;AACA,SAASC,YAAT,QAA6B,sCAA7B;AACA,SAASC,SAAT,QAA0B,6BAA1B;AAYA,MAAMC,YAA8B,GAAG;EAAEC,mBAAmB,EAAG;AAAxB,CAAvC;AAEA,OAAO,MAAMC,mBAAmB,GAAIL,WAAW,CAAC;EAC5CM,IAAI,EAAC,gBADuC;EAE5CH,YAF4C;EAG5CI,QAAQ,EAAG;IACPC,KAAK,EAAIC,KAAD,IAAW;MACf,OAAM,EACF,GAAGA,KADD;QACQL,mBAAmB,EAAE;MAD7B,CAAN;IAGH,CALM;IAMPM,OAAO,EAAC,CAACD,KAAD,EAAQE,MAAR,KAAsC;MACtD,OAAO,EACH,GAAGF,KADA;QACOL,mBAAmB,EAAE;MAD5B,CAAP;IAGS,CAVM;IAWPQ,KAAK,EAAE,CAACH,KAAD,EAAQE,MAAR,KAA0C;MAC7C,OAAM,EACF,GAAGF,KADD;QACQL,mBAAmB,EAAG;MAD9B,CAAN;IAGH;EAfM;AAHiC,CAAD,CAAxC;AAsBP,OAAO,MAAMS,gBAAgB,GAAIC,QAAD,IAAmB,MAAOC,QAAP,IAAyB;EACxE,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMf,YAAY,CAAEa,QAAF,CAAnC;IACAZ,SAAS,CAACc,QAAQ,CAACC,IAAV,CAAT;IACAF,QAAQ,CAACL,OAAO,CAACM,QAAQ,CAACC,IAAV,CAAR,CAAR;IACAC,OAAO,CAACC,IAAR,CAAa,KAAb;EACH,CALD,CAMA,OAAMC,GAAN,EAAW;IACPL,QAAQ,CAACH,KAAK,CAACQ,GAAD,CAAN,CAAR;EACH;AACJ,CAVM;AAYP,OAAO,MAAM;EAAEZ,KAAF;EAASE,OAAT;EAAkBE;AAAlB,IAA2BP,mBAAmB,CAACgB,OAArD;AACP,OAAO,MAAMC,oBAAoB,GAAIb,KAAD,IAAqBA,KAAK,CAACc,cAAxD;AACP,OAAO,MAAMC,qBAAqB,GAAGnB,mBAAmB,CAACoB,OAAlD"},"metadata":{},"sourceType":"module"}